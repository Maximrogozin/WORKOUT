{"ast":null,"code":"import { nanoid } from \"nanoid\";\nconst catalog = [{\n  id: nanoid(),\n  img: \"https://workoutshop.ru/upload/resize_cache/iblock/a3e/450_450_140cd750bba9870f18aada2478b24840a/a3e2d8895c075b26a388a10f06317876.jpg\",\n  name: \"Турники и брусья\",\n  url: \"turniki_brusya\",\n  price: 3800\n}, {\n  id: nanoid(),\n  img: \"https://workoutshop.ru/upload/resize_cache/iblock/d89/450_450_140cd750bba9870f18aada2478b24840a/d89a8f5c34cbc8faaa1ac6ca1355a3ca.jpg\",\n  name: \"Утяжелители\",\n  url: \"utyazheliteli\",\n  price: 3800\n}, {\n  id: nanoid(),\n  img: \"https://workoutshop.ru/upload/iblock/5ff/5ff0b5b9038d119b3a911da915d7298d.jpg\",\n  name: \"Эспандеры\",\n  url: \"espandery\",\n  price: 3800\n}, {\n  id: nanoid(),\n  img: \"https://workoutshop.ru/upload/iblock/d8b/d8b858bbc9e6ae00a57e6f85135fb3f4.jpg\",\n  name: \"Инвентарь\",\n  url: \"inventar\",\n  price: 3800\n}];\nif (!localStorage.getItem(\"catalog\")) {\n  localStorage.setItem(\"catalog\", JSON.stringify(catalog));\n}\nconst fetchAll = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"catalog\")));\n  }, 2000);\n});\nconst update = (id, data) => new Promise(resolve => {\n  const catalog = JSON.parse(localStorage.getItem(\"catalog\"));\n  const userIndex = catalog.findIndex(u => u._id === id);\n  catalog[userIndex] = {\n    ...catalog[userIndex],\n    ...data\n  };\n  localStorage.setItem(\"catalog\", JSON.stringify(catalog));\n  resolve(catalog[userIndex]);\n});\nconst getById = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"catalog\")).find(user => user._id === id));\n  }, 1000);\n});\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  fetchAll,\n  getById,\n  update\n};","map":{"version":3,"names":["nanoid","catalog","id","img","name","url","price","localStorage","getItem","setItem","JSON","stringify","fetchAll","Promise","resolve","window","setTimeout","parse","update","data","userIndex","findIndex","u","_id","getById","find","user"],"sources":["/Users/maksimrogozin/Documents/VScode/workout_diplom/WORKOUT/client/src/app/api/fake.api/catalog.api.js"],"sourcesContent":["import { nanoid } from \"nanoid\";\nconst catalog = [\n  {\n    id: nanoid(),\n    img: \"https://workoutshop.ru/upload/resize_cache/iblock/a3e/450_450_140cd750bba9870f18aada2478b24840a/a3e2d8895c075b26a388a10f06317876.jpg\",\n    name: \"Турники и брусья\",\n    url: \"turniki_brusya\",\n    price: 3800,\n  },\n  {\n    id: nanoid(),\n    img: \"https://workoutshop.ru/upload/resize_cache/iblock/d89/450_450_140cd750bba9870f18aada2478b24840a/d89a8f5c34cbc8faaa1ac6ca1355a3ca.jpg\",\n    name: \"Утяжелители\",\n    url: \"utyazheliteli\",\n    price: 3800,\n  },\n  {\n    id: nanoid(),\n    img: \"https://workoutshop.ru/upload/iblock/5ff/5ff0b5b9038d119b3a911da915d7298d.jpg\",\n    name: \"Эспандеры\",\n    url: \"espandery\",\n    price: 3800,\n  },\n  {\n    id: nanoid(),\n    img: \"https://workoutshop.ru/upload/iblock/d8b/d8b858bbc9e6ae00a57e6f85135fb3f4.jpg\",\n    name: \"Инвентарь\",\n    url: \"inventar\",\n    price: 3800,\n  },\n];\nif (!localStorage.getItem(\"catalog\")) {\n  localStorage.setItem(\"catalog\", JSON.stringify(catalog));\n}\n\nconst fetchAll = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem(\"catalog\")));\n    }, 2000);\n  });\nconst update = (id, data) =>\n  new Promise((resolve) => {\n    const catalog = JSON.parse(localStorage.getItem(\"catalog\"));\n    const userIndex = catalog.findIndex((u) => u._id === id);\n    catalog[userIndex] = { ...catalog[userIndex], ...data };\n    localStorage.setItem(\"catalog\", JSON.stringify(catalog));\n    resolve(catalog[userIndex]);\n  });\n\nconst getById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(\n        JSON.parse(localStorage.getItem(\"catalog\")).find(\n          (user) => user._id === id\n        )\n      );\n    }, 1000);\n  });\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  fetchAll,\n  getById,\n  update,\n};\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,QAAQ;AAC/B,MAAMC,OAAO,GAAG,CACd;EACEC,EAAE,EAAEF,MAAM,CAAC,CAAC;EACZG,GAAG,EAAE,sIAAsI;EAC3IC,IAAI,EAAE,kBAAkB;EACxBC,GAAG,EAAE,gBAAgB;EACrBC,KAAK,EAAE;AACT,CAAC,EACD;EACEJ,EAAE,EAAEF,MAAM,CAAC,CAAC;EACZG,GAAG,EAAE,sIAAsI;EAC3IC,IAAI,EAAE,aAAa;EACnBC,GAAG,EAAE,eAAe;EACpBC,KAAK,EAAE;AACT,CAAC,EACD;EACEJ,EAAE,EAAEF,MAAM,CAAC,CAAC;EACZG,GAAG,EAAE,+EAA+E;EACpFC,IAAI,EAAE,WAAW;EACjBC,GAAG,EAAE,WAAW;EAChBC,KAAK,EAAE;AACT,CAAC,EACD;EACEJ,EAAE,EAAEF,MAAM,CAAC,CAAC;EACZG,GAAG,EAAE,+EAA+E;EACpFC,IAAI,EAAE,WAAW;EACjBC,GAAG,EAAE,UAAU;EACfC,KAAK,EAAE;AACT,CAAC,CACF;AACD,IAAI,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,EAAE;EACpCD,YAAY,CAACE,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO,CAAC,CAAC;AAC1D;AAEA,MAAMW,QAAQ,GAAGA,CAAA,KACf,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvBC,MAAM,CAACC,UAAU,CAAC,YAAY;IAC5BF,OAAO,CAACJ,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;EACtD,CAAC,EAAE,IAAI,CAAC;AACV,CAAC,CAAC;AACJ,MAAMU,MAAM,GAAGA,CAAChB,EAAE,EAAEiB,IAAI,KACtB,IAAIN,OAAO,CAAEC,OAAO,IAAK;EACvB,MAAMb,OAAO,GAAGS,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC;EAC3D,MAAMY,SAAS,GAAGnB,OAAO,CAACoB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKrB,EAAE,CAAC;EACxDD,OAAO,CAACmB,SAAS,CAAC,GAAG;IAAE,GAAGnB,OAAO,CAACmB,SAAS,CAAC;IAAE,GAAGD;EAAK,CAAC;EACvDZ,YAAY,CAACE,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO,CAAC,CAAC;EACxDa,OAAO,CAACb,OAAO,CAACmB,SAAS,CAAC,CAAC;AAC7B,CAAC,CAAC;AAEJ,MAAMI,OAAO,GAAItB,EAAE,IACjB,IAAIW,OAAO,CAAEC,OAAO,IAAK;EACvBC,MAAM,CAACC,UAAU,CAAC,YAAY;IAC5BF,OAAO,CACLJ,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,CAACiB,IAAI,CAC7CC,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAKrB,EACzB,CACF,CAAC;EACH,CAAC,EAAE,IAAI,CAAC;AACV,CAAC,CAAC;AACJ;AACA,eAAe;EACbU,QAAQ;EACRY,OAAO;EACPN;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}